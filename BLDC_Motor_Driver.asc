Version 4
SHEET 1 4452 1160
WIRE 3472 -32 3440 -32
WIRE 3856 0 3856 -144
WIRE -384 16 -416 16
WIRE 1456 32 1424 32
WIRE 0 48 0 -96
WIRE 1840 64 1840 -80
WIRE 3312 80 3312 32
WIRE 3440 80 3440 -32
WIRE 3440 80 3312 80
WIRE 3536 80 3536 16
WIRE 3632 80 3536 80
WIRE 3776 80 3712 80
WIRE 3808 80 3776 80
WIRE 3776 96 3776 80
WIRE -544 128 -544 80
WIRE -416 128 -416 16
WIRE -416 128 -544 128
WIRE -320 128 -320 64
WIRE -224 128 -320 128
WIRE -80 128 -144 128
WIRE -48 128 -80 128
WIRE -80 144 -80 128
WIRE 1296 144 1296 96
WIRE 1424 144 1424 32
WIRE 1424 144 1296 144
WIRE 1520 144 1520 80
WIRE 1616 144 1520 144
WIRE 1760 144 1696 144
WIRE 1792 144 1760 144
WIRE 3312 144 3312 80
WIRE 3536 144 3536 80
WIRE 1760 160 1760 144
WIRE 3776 176 3776 160
WIRE 3856 176 3856 96
WIRE 3856 176 3776 176
WIRE -544 192 -544 128
WIRE -320 192 -320 128
WIRE 3440 192 3440 80
WIRE 3472 192 3440 192
WIRE 3856 192 3856 176
WIRE 4176 192 3856 192
WIRE 1296 208 1296 144
WIRE 1520 208 1520 144
WIRE -80 224 -80 208
WIRE 0 224 0 144
WIRE 0 224 -80 224
WIRE -416 240 -416 128
WIRE -384 240 -416 240
WIRE 0 240 0 224
WIRE 320 240 0 240
WIRE 1760 240 1760 224
WIRE 1840 240 1840 160
WIRE 1840 240 1760 240
WIRE 1424 256 1424 144
WIRE 1456 256 1424 256
WIRE 1840 256 1840 240
WIRE 2160 256 1840 256
WIRE 3312 320 3312 224
WIRE -544 368 -544 272
WIRE 3072 368 2784 368
WIRE 3248 368 3152 368
WIRE 1296 384 1296 288
WIRE 2784 400 2784 368
WIRE -784 416 -1072 416
WIRE -608 416 -704 416
WIRE 1056 432 768 432
WIRE 1232 432 1136 432
WIRE -1072 448 -1072 416
WIRE 768 464 768 432
WIRE 3472 544 3440 544
WIRE 3856 560 3856 192
WIRE -384 592 -416 592
WIRE 0 608 0 240
WIRE 1456 608 1424 608
WIRE 1840 624 1840 256
WIRE 3536 640 3536 592
WIRE 3808 640 3536 640
WIRE 3312 656 3312 608
WIRE 3440 656 3440 544
WIRE 3440 656 3312 656
WIRE -320 688 -320 640
WIRE -48 688 -320 688
WIRE -544 704 -544 656
WIRE -416 704 -416 592
WIRE -416 704 -544 704
WIRE 1520 704 1520 656
WIRE 1792 704 1520 704
WIRE 1296 720 1296 672
WIRE 1424 720 1424 608
WIRE 1424 720 1296 720
WIRE 3312 720 3312 656
WIRE 3536 720 3536 640
WIRE -544 768 -544 704
WIRE -320 768 -320 688
WIRE 3440 768 3440 656
WIRE 3472 768 3440 768
WIRE 1296 784 1296 720
WIRE 1520 784 1520 704
WIRE 3856 784 3856 656
WIRE -416 816 -416 704
WIRE -384 816 -416 816
WIRE 0 832 0 704
WIRE 1424 832 1424 720
WIRE 1456 832 1424 832
WIRE 1840 832 1840 720
WIRE 3312 896 3312 800
WIRE -544 944 -544 848
WIRE 3072 944 2784 944
WIRE 3248 944 3152 944
WIRE 1296 960 1296 864
WIRE 3856 960 3856 864
WIRE 2784 976 2784 944
WIRE -784 992 -1072 992
WIRE -608 992 -704 992
WIRE 0 1008 0 912
WIRE 1056 1008 768 1008
WIRE 1232 1008 1136 1008
WIRE -1072 1024 -1072 992
WIRE 1840 1024 1840 912
WIRE 768 1040 768 1008
FLAG -624 -256 12v
FLAG -848 -256 batt
FLAG -736 -256 boost
FLAG 0 -96 batt
FLAG -320 864 0
FLAG 0 1008 0
FLAG -544 1040 0
FLAG -544 576 12v
FLAG -320 544 12v
FLAG -1072 1104 0
FLAG -320 288 0
FLAG -544 464 0
FLAG -1072 528 0
FLAG -848 -176 0
FLAG -736 -176 0
FLAG -624 -176 0
FLAG -544 0 boost
FLAG -320 -32 boost
FLAG 1840 -80 batt
FLAG 1520 880 0
FLAG 1840 1024 0
FLAG 1296 1056 0
FLAG 1296 592 12v
FLAG 1520 560 12v
FLAG 768 1120 0
FLAG 1520 304 0
FLAG 1296 480 0
FLAG 768 544 0
FLAG 1296 16 boost
FLAG 1520 -16 boost
FLAG 3856 -144 batt
FLAG 3536 816 0
FLAG 3856 960 0
FLAG 3312 992 0
FLAG 3312 528 12v
FLAG 3536 496 12v
FLAG 2784 1056 0
FLAG 3536 240 0
FLAG 3312 416 0
FLAG 2784 480 0
FLAG 3312 -48 boost
FLAG 3536 -80 boost
FLAG 480 240 CENTER
FLAG 2320 256 CENTER
FLAG 4336 192 CENTER
SYMBOL nmos -48 608 R0
SYMATTR InstName M1
SYMATTR Value AP9465GEM
SYMBOL nmos -48 48 R0
SYMATTR InstName M2
SYMATTR Value AP9465GEM
SYMBOL npn -608 944 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL npn -384 544 R0
SYMATTR InstName Q2
SYMATTR Value 2N2222
SYMBOL pnp -384 864 M180
SYMATTR InstName Q3
SYMATTR Value 2N2907
SYMBOL voltage -848 -272 R0
SYMATTR InstName V1
SYMATTR Value 22
SYMBOL voltage -736 -272 R0
SYMATTR InstName V2
SYMATTR Value 30
SYMBOL voltage -624 -272 R0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL res -560 752 R0
SYMATTR InstName R1
SYMATTR Value 0
SYMBOL res -560 560 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res -688 976 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL voltage -1072 1008 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(3.3 0 0 1u 1u 2m 3m)
SYMBOL npn -608 368 R0
SYMATTR InstName Q4
SYMATTR Value 2N2222
SYMBOL npn -384 -32 R0
SYMATTR InstName Q5
SYMATTR Value 2N2222
SYMBOL pnp -384 288 M180
SYMATTR InstName Q6
SYMATTR Value 2N2907
SYMBOL res -560 176 R0
SYMATTR InstName R4
SYMATTR Value 0
SYMBOL res -560 -16 R0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res -688 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL voltage -1072 432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 3.3 0 1u 1u 2m 3m)
SYMBOL res -128 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100
SYMBOL zener -64 208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value MMBZ12VAL
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL nmos 1792 624 R0
SYMATTR InstName M3
SYMATTR Value AP9465GEM
SYMBOL nmos 1792 64 R0
SYMATTR InstName M4
SYMATTR Value AP9465GEM
SYMBOL npn 1232 960 R0
SYMATTR InstName Q7
SYMATTR Value 2N2222
SYMBOL npn 1456 560 R0
SYMATTR InstName Q8
SYMATTR Value 2N2222
SYMBOL pnp 1456 880 M180
SYMATTR InstName Q9
SYMATTR Value 2N2907
SYMBOL res 1280 768 R0
SYMATTR InstName R8
SYMATTR Value 0
SYMBOL res 1280 576 R0
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL res 1152 992 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL voltage 768 1024 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PULSE(3.3 0 1m 1u 1u 2m 3m)
SYMBOL npn 1232 384 R0
SYMATTR InstName Q10
SYMATTR Value 2N2222
SYMBOL npn 1456 -16 R0
SYMATTR InstName Q11
SYMATTR Value 2N2222
SYMBOL pnp 1456 304 M180
SYMATTR InstName Q12
SYMATTR Value 2N2907
SYMBOL res 1280 192 R0
SYMATTR InstName R11
SYMATTR Value 0
SYMBOL res 1280 0 R0
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 1152 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL voltage 768 448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PULSE(0 3.3 1m 1u 1u 2m 3m)
SYMBOL res 1712 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 100
SYMBOL zener 1776 224 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value MMBZ12VAL
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL nmos 3808 560 R0
SYMATTR InstName M5
SYMATTR Value AP9465GEM
SYMBOL nmos 3808 0 R0
SYMATTR InstName M6
SYMATTR Value AP9465GEM
SYMBOL npn 3248 896 R0
SYMATTR InstName Q13
SYMATTR Value 2N2222
SYMBOL npn 3472 496 R0
SYMATTR InstName Q14
SYMATTR Value 2N2222
SYMBOL pnp 3472 816 M180
SYMATTR InstName Q15
SYMATTR Value 2N2907
SYMBOL res 3296 704 R0
SYMATTR InstName R15
SYMATTR Value 0
SYMBOL res 3296 512 R0
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL res 3168 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL voltage 2784 960 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value PULSE(3.3 0 2m 1u 1u 2m 3m)
SYMBOL npn 3248 320 R0
SYMATTR InstName Q16
SYMATTR Value 2N2222
SYMBOL npn 3472 -80 R0
SYMATTR InstName Q17
SYMATTR Value 2N2222
SYMBOL pnp 3472 240 M180
SYMATTR InstName Q18
SYMATTR Value 2N2907
SYMBOL res 3296 128 R0
SYMATTR InstName R18
SYMATTR Value 0
SYMBOL res 3296 -64 R0
SYMATTR InstName R19
SYMATTR Value 10k
SYMBOL res 3168 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL voltage 2784 384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value PULSE(0 3.3 2m 1u 1u 2m 3m)
SYMBOL res 3728 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 100
SYMBOL zener 3792 160 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value MMBZ12VAL
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL ind 416 224 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 1m
SYMBOL res 496 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 1
SYMBOL ind 2256 240 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L2
SYMATTR Value 1m
SYMBOL res 2336 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 1
SYMBOL ind 4272 176 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L3
SYMATTR Value 1m
SYMBOL res 4352 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 1
SYMBOL res -16 816 R0
SYMATTR InstName R25
SYMATTR Value 1m
SYMBOL res 1824 816 R0
SYMATTR InstName R26
SYMATTR Value 1m
SYMBOL res 3840 768 R0
SYMATTR InstName R27
SYMATTR Value 1m
TEXT -1106 1128 Left 2 !.tran 10m
