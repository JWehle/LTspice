Version 4
SHEET 1 1540 740
WIRE -288 -32 -400 -32
WIRE -176 -32 -288 -32
WIRE -64 -32 -176 -32
WIRE 480 -16 272 -16
WIRE 528 -16 480 -16
WIRE 528 0 528 -16
WIRE -288 16 -288 -32
WIRE 16 16 -128 16
WIRE -400 32 -400 -32
WIRE -64 64 -64 -32
WIRE -128 80 -128 16
WIRE -96 80 -128 80
WIRE 16 96 16 16
WIRE 16 96 -32 96
WIRE 80 96 16 96
WIRE 192 96 160 96
WIRE 320 96 192 96
WIRE 432 96 400 96
WIRE -288 112 -288 96
WIRE -96 112 -288 112
WIRE -288 128 -288 112
WIRE 272 160 272 -16
WIRE 192 176 192 96
WIRE 240 176 192 176
WIRE 432 192 432 96
WIRE 432 192 304 192
WIRE 640 192 432 192
WIRE 720 192 640 192
WIRE -112 208 -240 208
WIRE 240 208 96 208
WIRE 624 240 576 240
WIRE 688 240 624 240
WIRE -176 256 -176 -32
WIRE 576 256 576 240
WIRE 688 256 688 240
WIRE -240 272 -240 208
WIRE -208 272 -240 272
WIRE -112 288 -112 208
WIRE -112 288 -144 288
WIRE -16 288 -112 288
WIRE 96 288 96 208
WIRE 96 288 64 288
WIRE 128 288 96 288
WIRE 224 288 208 288
WIRE -336 304 -400 304
WIRE -208 304 -336 304
WIRE 224 336 224 288
WIRE -400 352 -400 304
WIRE 288 416 -16 416
WIRE 400 416 368 416
WIRE 528 416 400 416
WIRE 640 416 608 416
WIRE 480 480 480 -16
WIRE 128 496 32 496
WIRE 400 496 400 416
WIRE 448 496 400 496
WIRE 640 512 640 416
WIRE 640 512 512 512
WIRE 752 512 640 512
WIRE 832 512 752 512
WIRE 32 528 32 496
WIRE 448 528 304 528
WIRE 128 608 128 496
WIRE 192 608 128 608
WIRE 304 608 304 528
WIRE 304 608 272 608
WIRE 336 608 304 608
WIRE 432 608 416 608
WIRE -16 640 -16 416
WIRE 32 640 32 608
WIRE 32 640 -16 640
WIRE 432 656 432 608
FLAG -400 112 0
FLAG -288 208 0
FLAG -400 432 0
FLAG 272 224 0
FLAG 528 80 0
FLAG 224 336 0
FLAG -64 128 0
FLAG 576 336 0
FLAG 688 336 0
FLAG -176 320 0
FLAG -336 304 AC712_IN
FLAG 640 192 PC4_BATT_CURR
FLAG 752 512 PC5_BATT_VOLT
FLAG 480 544 0
FLAG 432 656 0
FLAG 624 240 CONVERT_AMPS
SYMBOL Opamps\\AD8629 272 128 R0
SYMATTR InstName U1
SYMBOL res -304 0 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res -304 112 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL voltage -400 16 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -400 336 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 2.5
SYMBOL res 176 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 416 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 15k
SYMBOL voltage 528 -16 R0
SYMATTR InstName V3
SYMATTR Value 3.3
SYMBOL res 80 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 224 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 15k
SYMBOL Opamps\\AD8629 -64 32 R0
SYMATTR InstName U2
SYMBOL voltage 576 240 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 1
SYMBOL res 672 240 R0
SYMATTR InstName R7
SYMATTR Value 1
SYMBOL Opamps\\AD8629 -176 224 R0
SYMATTR InstName U3
SYMBOL Opamps\\AD8629 480 448 R0
SYMATTR InstName U5
SYMBOL res 384 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL res 624 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL res 288 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 100k
SYMBOL res 432 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL voltage 32 512 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 32
TEXT -410 248 Left 2 !;.dc V2 2.5 4.8
TEXT -440 504 Left 2 ;define HAL_BATT_VOLT_SCALE 10.1\ndefine HAL_BATT_CURR_SCALE 6.6
TEXT -448 680 Left 2 ;To get the real current measured: 10*(V(ac712_in)-2.5)*I(R7)/V(CONVERT_AMPS)
TEXT -448 704 Left 2 ;To get the ArduPilot converted value: 6.6*V(PC4_BATT_CURR)*I(R7)/V(CONVERT_AMPS)
TEXT -450 724 Left 2 !.dc V5 0 34
